---
interface Props {
    position: string;
    company: string;
    location: string;
    period: string;
    responsibilities: string[];
    technologies: string[];
    icon: string;
    responsibilitiesLabel: string;
    technologiesLabel: string;
}

const {
    position,
    company,
    location,
    period,
    responsibilities,
    technologies,
    icon,
    responsibilitiesLabel,
    technologiesLabel
} = Astro.props;
---

<div class:list={[
    'bg-(--bg-secondary) rounded-lg p-6',
    'shadow-[0_3px_8px_var(--shadow-light)]',
    'transition-all duration-200',
    'hover:-translate-y-0.5 hover:shadow-[0_5px_15px_var(--shadow-dark)]',
    'max-md:p-4'
]}>
    <div class:list={[
        'flex gap-4 mb-4',
        'max-md:flex-col max-md:items-start max-md:gap-2'
    ]}>
        <div class:list={[
            'bg-(--bg-primary) w-12.5 h-12.5 rounded-full',
            'flex items-center justify-center shrink-0',
            'max-md:w-10 max-md:h-10'
        ]}>
            <i class={`${icon} text-2xl text-text-color max-md:text-xl`}></i>
        </div>

        <div class="flex-1">
            <h3 class="m-0 mb-1 font-mono text-xl max-md:text-lg">{position}</h3>
            <div class="flex justify-between items-center flex-wrap mb-1">
                <span class="font-bold mr-2">{company}</span>
                <span class="text-sm opacity-80">{location}</span>
            </div>
            <div class="text-sm opacity-70 italic">{period}</div>
        </div>
    </div>

    {responsibilities.length > 0 && (
            <div class="mb-4">
                <h4 class="text-base my-2 font-mono">{responsibilitiesLabel}</h4>
                <ul class="my-2 pl-6 list-disc">
                    {responsibilities.map(resp => (
                            <li class="mb-1 leading-relaxed text-sm">{resp}</li>
                    ))}
                </ul>
            </div>
    )}

    {technologies.length > 0 && (
            <div>
                <h4 class="text-base my-2 font-mono">{technologiesLabel}</h4>
                <div class="flex flex-wrap gap-3 mt-4 max-md:gap-2">
                    {technologies.map(tech => (
                            <span class:list={[
                                'bg-(--bg-primary) px-3 py-1.5 rounded-full text-sm',
                                'flex items-center',
                                'max-md:text-xs max-md:px-2.5 max-md:py-1'
                            ]}>
            <i class="bi bi-check-circle-fill text-xs mr-1.5 text-green-500"></i>
                                {tech}
          </span>
                    ))}
                </div>
            </div>
    )}
</div>